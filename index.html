<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Repair Application Form</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- jsPDF library for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --progress-color: #9b59b6;
            --light-bg: #f5f7fa;
            --border-color: #ddd;
            --text-color: #333;
            --white: #ffffff;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --translator-btn-bg: #86dbdb;
            --translator-btn-text: #1c3678;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .form-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: var(--primary-color);
            color: var(--white);
            border-radius: 10px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .form-header h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: var(--white);
        }
        
        .form-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Admin Login Required Notice */
        .admin-required-notice {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
            border: 3px solid #ff5722;
            animation: pulse 2s infinite;
        }
        
        .admin-required-notice h3 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .admin-required-notice p {
            font-size: 1.1rem;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Translator Section in Header */
        .translator-section {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 50;
            max-width: 300px;
        }
        
        .translator-section h4 {
            color: white;
            margin-bottom: 10px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .translator-toggle {
            padding: 8px 15px;
            background: var(--translator-btn-bg);
            color: var(--translator-btn-text);
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
        }
        
        .translator-toggle:hover {
            background: #76cbcb;
            transform: translateY(-2px);
        }
        
        /* Admin Login Panel */
        .login-section {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--translator-btn-bg);
            padding: 15px;
            border-radius: 8px;
            max-width: 300px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .login-section h4 {
            color: var(--translator-btn-text);
            margin-bottom: 10px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .login-fields {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .login-input {
            padding: 8px 12px;
            border: 1px solid rgba(28, 54, 120, 0.3);
            border-radius: 4px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--translator-btn-text);
            font-size: 0.9rem;
            width: 100%;
        }
        
        .login-input:focus {
            outline: none;
            border-color: var(--translator-btn-text);
            background: white;
        }
        
        .login-btn {
            padding: 8px 15px;
            background: var(--translator-btn-text);
            color: white;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .login-btn:hover {
            background: #152a5a;
            transform: translateY(-2px);
        }
        
        .logout-btn {
            padding: 8px 15px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .logout-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .login-status {
            margin-top: 8px;
            font-size: 0.85rem;
            color: var(--translator-btn-text);
            font-weight: 500;
        }
        
        /* Translator Modal */
        .translator-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        .translator-modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .translator-modal-content {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        
        .translator-header {
            background: linear-gradient(135deg, #86dbdb 0%, #1c3678 100%);
            color: white;
            padding: 20px;
            border-radius: 10px 10px 0 0;
            text-align: center;
        }
        
        .translator-header h3 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .translator-header p {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .translator-body {
            padding: 20px;
        }
        
        .language-selectors {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 10px;
            margin-bottom: 20px;
            align-items: center;
        }
        
        .language-select {
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 0.9rem;
            width: 100%;
        }
        
        .swap-btn {
            background: var(--translator-btn-bg);
            color: var(--translator-btn-text);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .swap-btn:hover {
            background: #76cbcb;
            transform: rotate(180deg);
        }
        
        .text-input-container {
            margin-bottom: 20px;
        }
        
        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }
        
        .text-input:focus {
            outline: none;
            border-color: var(--translator-btn-bg);
        }
        
        .char-counter {
            text-align: right;
            font-size: 0.85rem;
            color: #666;
            margin-top: 5px;
        }
        
        .translate-btn {
            width: 100%;
            padding: 15px;
            background: var(--translator-btn-bg);
            color: var(--translator-btn-text);
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }
        
        .translate-btn:hover {
            background: #76cbcb;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(134, 219, 219, 0.3);
        }
        
        .translation-result {
            background: #f8f9fa;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            padding: 15px;
            min-height: 100px;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .copy-btn {
            width: 100%;
            padding: 10px;
            background: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .copy-btn:hover {
            background: #2980b9;
        }
        
        .copy-btn.copied {
            background: var(--success-color);
        }
        
        .close-translator {
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 10px 20px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
            width: 100%;
        }
        
        .close-translator:hover {
            background: #c0392b;
        }
        
        .form-container {
            background: var(--white);
            border-radius: 10px;
            padding: 40px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            display: none;
        }
        
        .form-container.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .form-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--light-bg);
        }
        
        .form-section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            color: var(--primary-color);
            font-size: 1.4rem;
        }
        
        .section-title i {
            color: var(--secondary-color);
            font-size: 1.6rem;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group.full-width {
            grid-column: 1 / -1;
        }
        
        label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
            font-size: 0.95rem;
        }
        
        .required::after {
            content: " *";
            color: var(--accent-color);
        }
        
        input, select, textarea {
            padding: 14px 16px;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }
        
        input:hover, select:hover {
            border-color: #aaa;
        }
        
        .optional-note {
            font-size: 0.85rem;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        
        .checkbox-group input {
            width: 20px;
            height: 20px;
        }
        
        .checkbox-group label {
            margin-bottom: 0;
            font-weight: normal;
        }
        
        /* Electronic Signature Section */
        .signature-section {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-radius: 10px;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid #4caf50;
            display: none;
        }
        
        .signature-section.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .signature-section h3 {
            color: #2e7d32;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .signature-input-group {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }
        
        .signature-input-group h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .signature-input-group h4 i {
            color: #4caf50;
        }
        
        .signature-pad {
            width: 100%;
            height: 150px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background: white;
            margin: 15px 0;
            cursor: crosshair;
            touch-action: none;
        }
        
        .signature-actions {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .signature-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .signature-btn.clear {
            background: #f5f5f5;
            color: #333;
        }
        
        .signature-btn.clear:hover {
            background: #e0e0e0;
        }
        
        .signature-btn.accept {
            background: #4caf50;
            color: white;
        }
        
        .signature-btn.accept:hover {
            background: #388e3c;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .signature-display {
            border: 2px dashed #4caf50;
            border-radius: 6px;
            padding: 15px;
            margin-top: 20px;
            min-height: 100px;
            background: #f9f9f9;
            display: none;
        }
        
        .signature-display.visible {
            display: block;
        }
        
        .signature-text {
            font-size: 1.2rem;
            color: #2e7d32;
            font-weight: 600;
            text-align: center;
            margin: 20px 0;
        }
        
        /* Credit Restoration Simulator Section */
        .simulator-section {
            background: linear-gradient(135deg, #e8f4fc 0%, #d4eaf7 100%);
            border-radius: 10px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #3498db;
        }
        
        .simulator-instructions {
            background: #cce7ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 25px;
            border-left: 4px solid #3498db;
        }
        
        .simulator-instructions h4 {
            color: var(--primary-color);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: bold;
        }
        
        .input-with-icon input {
            padding-left: 40px;
        }
        
        .score-display {
            margin-top: 5px;
        }
        
        /* Credit Score Colors */
        .score-excellent {
            color: #27ae60 !important;
            background: rgba(39, 174, 96, 0.1) !important;
        }
        
        .score-good {
            color: #2ecc71 !important;
            background: rgba(46, 204, 113, 0.1) !important;
        }
        
        .score-fair {
            color: #f39c12 !important;
            background: rgba(243, 156, 18, 0.1) !important;
        }
        
        .score-poor {
            color: #e74c3c !important;
            background: rgba(231, 76, 60, 0.1) !important;
        }
        
        .score-very-poor {
            color: #c0392b !important;
            background: rgba(192, 57, 43, 0.1) !important;
        }
        
        /* Utilization Colors */
        .utilization-excellent {
            color: #27ae60 !important;
            background: rgba(39, 174, 96, 0.1) !important;
        }
        
        .utilization-good {
            color: #2ecc71 !important;
            background: rgba(46, 204, 113, 0.1) !important;
        }
        
        .utilization-fair {
            color: #f39c12 !important;
            background: rgba(243, 156, 18, 0.1) !important;
        }
        
        .utilization-high {
            color: #e74c3c !important;
            background: rgba(231, 76, 60, 0.1) !important;
        }
        
        .utilization-very-high {
            color: #c0392b !important;
            background: rgba(192, 57, 43, 0.1) !important;
        }
        
        /* Simulator Results Display */
        .simulator-results {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 2px solid #3498db;
            display: none;
        }
        
        .simulator-results.visible {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #e9ecef;
        }
        
        .result-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .result-value {
            font-size: 2.2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .result-status {
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-block;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        /* Print/PDF Section */
        .print-section {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-radius: 10px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #ff9800;
            text-align: center;
        }
        
        .print-section h3 {
            color: #e65100;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .print-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 6px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 200px;
        }
        
        .btn-print {
            background: #ff9800;
            color: white;
        }
        
        .btn-print:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(255, 152, 0, 0.3);
        }
        
        .btn-pdf {
            background: #f44336;
            color: white;
        }
        
        .btn-pdf:hover {
            background: #d32f2f;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(244, 67, 54, 0.3);
        }
        
        .btn-reset {
            background: var(--light-bg);
            color: var(--text-color);
        }
        
        .btn-reset:hover {
            background: #e0e0e0;
        }
        
        .btn-sms {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
        }
        
        .btn-sms:hover {
            background: linear-gradient(135deg, #128C7E 0%, #25D366 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(37, 211, 102, 0.3);
        }
        
        /* Print Modal */
        .print-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 4000;
            align-items: center;
            justify-content: center;
        }
        
        .print-modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .print-modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
        }
        
        .print-modal-header {
            background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
            color: white;
            padding: 25px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }
        
        .print-modal-header h3 {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        
        .print-modal-header p {
            font-size: 1rem;
            opacity: 0.95;
        }
        
        .print-modal-body {
            padding: 30px;
        }
        
        .print-options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .print-option {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .print-option:hover {
            background: #e9ecef;
            border-color: #ff9800;
            transform: translateY(-2px);
        }
        
        .print-option.selected {
            background: #fff3e0;
            border-color: #ff9800;
        }
        
        .print-option-icon {
            width: 50px;
            height: 50px;
            background: #ff9800;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }
        
        .print-option-text h4 {
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 1.2rem;
        }
        
        .print-option-text p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .modal-buttons {
            display: flex;
            gap: 15px;
        }
        
        .modal-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .modal-btn.confirm {
            background: #4caf50;
            color: white;
        }
        
        .modal-btn.confirm:hover {
            background: #388e3c;
        }
        
        .modal-btn.cancel {
            background: #f5f5f5;
            color: #333;
        }
        
        .modal-btn.cancel:hover {
            background: #e0e0e0;
        }
        
        /* AI Assistant Section */
        .ai-assistant-section {
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            border-radius: 10px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid #86dbdb;
        }
        
        .ai-assistant-section h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .ai-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .ai-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        
        .ai-card h4 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .ai-card.chatgpt h4 i {
            color: #10a37f;
        }
        
        .ai-card.gemini h4 i {
            color: #8e44ad;
        }
        
        .ai-card.copilot h4 i {
            color: #0078d4;
        }
        
        .ai-card p {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }
        
        .ai-link {
            display: inline-block;
            padding: 8px 16px;
            background: var(--translator-btn-bg);
            color: var(--translator-btn-text);
            text-decoration: none;
            border-radius: 4px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .ai-link:hover {
            background: #76cbcb;
            transform: translateY(-2px);
        }
        
        /* Electronic Signature Fields Styling */
        .electronic-signature-fields {
            background: #f8f9fa;
            border: 2px solid #e74c3c;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .electronic-signature-fields h4 {
            color: #e74c3c;
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .electronic-signature-fields p {
            color: #666;
            font-size: 0.95rem;
            margin-bottom: 20px;
        }
        
        .signature-fields-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }
        
        .signature-field-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .signature-field-group label {
            color: #333;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .signature-field-group input {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .signature-field-group input:focus {
            outline: none;
            border-color: #e74c3c;
            box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
        }
        
        .signature-field-group input:disabled {
            background: #e9ecef;
            cursor: not-allowed;
        }
        
        .signature-note {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 12px;
            margin-top: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        .signature-note i {
            color: #ff9800;
            margin-top: 2px;
        }
        
        .signature-note p {
            color: #856404;
            font-size: 0.9rem;
            margin: 0;
        }
        
        /* Disclaimer section styling */
        .disclaimer-section {
            background: #fff9e6;
            border: 2px solid #ff9800;
            border-radius: 10px;
            padding: 25px;
            margin: 30px 0;
        }
        
        .disclaimer-section h3 {
            color: #e65100;
            margin-bottom: 20px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .disclaimer-item {
            background: white;
            border-left: 4px solid #ff9800;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .disclaimer-item h4 {
            color: #e65100;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .disclaimer-item p {
            color: #666;
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 5px 0;
        }
        
        /* Acknowledgment Modal */
        .acknowledgment-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 5000;
            align-items: center;
            justify-content: center;
        }
        
        .acknowledgment-modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .acknowledgment-modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 0;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.3);
        }
        
        .acknowledgment-modal-header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 25px;
            border-radius: 15px 15px 0 0;
            text-align: center;
        }
        
        .acknowledgment-modal-header h3 {
            font-size: 1.5rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .acknowledgment-modal-body {
            padding: 30px;
            text-align: center;
        }
        
        .acknowledgment-modal-body p {
            color: #333;
            font-size: 1.1rem;
            margin-bottom: 25px;
            line-height: 1.6;
        }
        
        .acknowledgment-modal-body .modal-btn {
            background: #e74c3c;
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .acknowledgment-modal-body .modal-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        /* Credit Bureau Selection Section */
        .bureau-selection {
            background: #f0f9ff;
            border-radius: 10px;
            padding: 30px;
            margin: 40px 0;
            border: 2px solid var(--secondary-color);
        }
        
        .bureau-selection h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .bureau-selection h3 i {
            color: var(--secondary-color);
        }
        
        .bureau-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .bureau-card {
            background: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            text-align: center;
            border: 2px solid transparent;
        }
        
        .bureau-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .bureau-card h4 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .bureau-card p {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 20px;
            min-height: 60px;
        }
        
        .bureau-btn {
            display: inline-block;
            padding: 12px 24px;
            background: var(--secondary-color);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 0.95rem;
            width: 100%;
        }
        
        .bureau-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        /* IDIQ bureau button - distinct identity green */
        .bureau-card.idiq-card {
            border: 2px solid #1a6b3c;
        }
        .bureau-card.idiq-card:hover {
            border-color: #1a6b3c;
            box-shadow: 0 5px 18px rgba(26, 107, 60, 0.25);
        }
        .bureau-card.idiq-card h4 i {
            color: #1a6b3c;
        }
        .bureau-btn.idiq-btn {
            background: linear-gradient(135deg, #1a6b3c 0%, #145a30 100%);
        }
        .bureau-btn.idiq-btn:hover {
            background: linear-gradient(135deg, #145a30 0%, #0f4a26 100%);
            box-shadow: 0 4px 12px rgba(26, 107, 60, 0.35);
        }
        
        /* Government Legal Section */
        .legal-section {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 30px;
            margin: 40px 0;
            border-left: 5px solid #8b4513;
        }
        
        .legal-section h3 {
            color: #8b4513;
            margin-bottom: 20px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .legal-content {
            color: #666;
            line-height: 1.8;
        }
        
        .legal-content ul {
            padding-left: 20px;
            margin: 15px 0;
        }
        
        .legal-content li {
            margin-bottom: 8px;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .form-container {
                padding: 25px;
            }
            
            .form-header {
                padding: 20px;
            }
            
            .form-header h1 {
                font-size: 2rem;
            }
            
            .translator-section, .login-section {
                position: relative;
                top: 0;
                left: 0;
                right: 0;
                margin: 10px auto;
                width: 100%;
                max-width: 100%;
            }
            
            .language-selectors {
                grid-template-columns: 1fr;
                grid-template-rows: auto auto auto;
            }
            
            .swap-btn {
                justify-self: center;
                grid-column: 1;
                grid-row: 2;
            }
            
            .ai-grid, .bureau-grid {
                grid-template-columns: 1fr;
            }
            
            .print-buttons, .modal-buttons, .signature-actions {
                flex-direction: column;
            }
            
            .btn, .signature-btn {
                width: 100%;
            }
            
            .signature-fields-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            body {
                padding: 10px;
            }
        }
        
        /* Print Styles */
        @media print {
            body {
                background: white;
                padding: 0;
                font-size: 12pt;
            }
            
            .container {
                max-width: 100%;
                margin: 0;
            }
            
            .form-header, .ai-assistant-section, .legal-section,
            .print-section,
            .translator-section, .login-section,
            .admin-required-notice, .signature-actions {
                display: none !important;
            }
            
            .form-container {
                box-shadow: none;
                padding: 20px;
                margin: 0;
                border: 1px solid #ddd;
                display: block !important;
            }
            
            .form-section {
                page-break-inside: avoid;
                border: none;
                padding-bottom: 15px;
                margin-bottom: 15px;
            }
            
            input, select, textarea {
                border: 1px solid #999;
                background: #f9f9f9;
                pointer-events: none;
            }
            
            /* Show simulator results in print */
            .simulator-section {
                display: block !important;
                background: white;
                border: 1px solid #ddd;
                margin: 20px 0;
                padding: 20px;
            }
            
            .simulator-results {
                border: 1px solid #999;
                box-shadow: none;
            }
            
            /* Show signature in print */
            .signature-section {
                display: block !important;
                background: white;
                border: 1px solid #ddd;
                margin: 20px 0;
                padding: 20px;
            }
            
            .signature-display {
                border: 1px solid #999;
            }
            
            /* Hide interactive elements */
            .btn, .print-buttons, .modal-buttons,
            .signature-pad, .signature-btn.clear {
                display: none !important;
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="form-header">
            <!-- Admin Login Panel -->
            <div class="login-section" id="loginSection">
                <h4><i class="fas fa-lock"></i> Admin Login</h4>
                <div class="login-fields">
                    <input type="text" id="adminUsername" class="login-input" placeholder="Username" autocomplete="off">
                    <input type="password" id="adminPassword" class="login-input" placeholder="Password" autocomplete="off">
                    <button type="button" id="loginBtn" class="login-btn">Login</button>
                </div>
                <div class="login-status" id="loginStatus"></div>
            </div>
            
            <!-- Translator Section -->
            <div class="translator-section">
                <h4><i class="fas fa-language"></i> Language Translator</h4>
                <button type="button" id="translatorToggle" class="translator-toggle">
                    <i class="fas fa-globe"></i> Open Translator
                </button>
            </div>
            
            <h1><i class="fas fa-file-contract"></i> Credit Repair Application</h1>
            <p>Please fill out this form completely and accurately. All information will be kept confidential and used solely for credit restoration purposes.</p>
        </header>
        
        <!-- Admin Required Notice -->
        <div class="admin-required-notice" id="adminRequiredNotice">
            <h3><i class="fas fa-lock"></i> Admin Login Required</h3>
            <p>Please login as an administrator to access the credit repair application form. Use the login panel in the header above.</p>
        </div>
        
        <!-- Translator Modal -->
        <div id="translatorModal" class="translator-modal">
            <div class="translator-modal-content">
                <div class="translator-header">
                    <h3><i class="fas fa-globe"></i> Language Translator</h3>
                    <p>Real-time translation for multiple languages</p>
                </div>
                
                <div class="translator-body">
                    <div class="language-selectors">
                        <select id="sourceLanguage" class="language-select">
                            <option value="en">English</option>
                            <option value="ht">Haitian Creole</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="zh">Chinese</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="ar">Arabic</option>
                        </select>
                        
                        <button type="button" id="swapLanguages" class="swap-btn">
                            <i class="fas fa-exchange-alt"></i>
                        </button>
                        
                        <select id="targetLanguage" class="language-select">
                            <option value="ht">Haitian Creole</option>
                            <option value="en">English</option>
                            <option value="es">Spanish</option>
                            <option value="fr">French</option>
                            <option value="de">German</option>
                            <option value="it">Italian</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="zh">Chinese</option>
                            <option value="ja">Japanese</option>
                            <option value="ko">Korean</option>
                            <option value="ar">Arabic</option>
                        </select>
                    </div>
                    
                    <div class="text-input-container">
                        <textarea id="textToTranslate" class="text-input" placeholder="Enter text to translate" maxlength="500"></textarea>
                        <div class="char-counter"><span id="charCount">0</span> / 500</div>
                    </div>
                    
                    <button type="button" id="translateBtn" class="translate-btn">
                        <i class="fas fa-language"></i> Translate Now
                    </button>
                    
                    <div class="translation-result" id="translationResult">
                        Translation will appear here as you type...
                    </div>
                    
                    <button type="button" id="copyTranslation" class="copy-btn">
                        <i class="far fa-copy"></i> Copy Translation
                    </button>
                    
                    <button type="button" id="closeTranslator" class="close-translator">
                        <i class="fas fa-times"></i> Close Translator
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Print Modal -->
        <div id="printModal" class="print-modal">
            <div class="print-modal-content">
                <div class="print-modal-header">
                    <h3><i class="fas fa-print"></i> Print & Save Options</h3>
                    <p>Choose how you want to save or print this application</p>
                </div>
                
                <div class="print-modal-body">
                    <div class="print-options">
                        <div class="print-option" data-action="print">
                            <div class="print-option-icon">
                                <i class="fas fa-print"></i>
                            </div>
                            <div class="print-option-text">
                                <h4>Print Document</h4>
                                <p>Send directly to your printer with optimized formatting</p>
                            </div>
                        </div>
                        
                        <div class="print-option" data-action="pdf">
                            <div class="print-option-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="print-option-text">
                                <h4>Save as PDF</h4>
                                <p>Download as a PDF file that you can share or archive</p>
                            </div>
                        </div>
                        
                        <div class="print-option" data-action="preview">
                            <div class="print-option-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="print-option-text">
                                <h4>Print Preview</h4>
                                <p>See how the document will look before printing</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="modal-buttons">
                        <button type="button" id="confirmPrint" class="modal-btn confirm">
                            <i class="fas fa-check"></i> Confirm Selection
                        </button>
                        <button type="button" id="cancelPrint" class="modal-btn cancel">
                            <i class="fas fa-times"></i> Cancel
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Acknowledgment Modal -->
        <div id="acknowledgmentModal" class="acknowledgment-modal">
            <div class="acknowledgment-modal-content">
                <div class="acknowledgment-modal-header">
                    <h3><i class="fas fa-exclamation-triangle"></i> Acknowledgment Required</h3>
                </div>
                <div class="acknowledgment-modal-body">
                    <p>You must acknowledge and check all required boxes before you can provide your electronic signature.</p>
                    <p>Please scroll up and review all disclaimers and consent statements, then check each box to proceed.</p>
                    <button type="button" id="closeAcknowledgmentModal" class="modal-btn">
                        <i class="fas fa-arrow-up"></i> Go Back & Review
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Form Content -->
        <form id="creditRepairForm" class="form-container">
            <!-- Personal Information Section -->
            <section class="form-section">
                <h2 class="section-title">
                    <i class="fas fa-user"></i> Personal Information
                </h2>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName" class="required">First Name</label>
                        <input type="text" id="firstName" name="firstName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="lastName" class="required">Last Name</label>
                        <input type="text" id="lastName" name="lastName" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="phone" class="required">Phone Number</label>
                        <input type="tel" id="phone" name="phone" placeholder="(123) 456-7890" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" placeholder="your@email.com">
                        <div class="optional-note">Optional - for digital communication only</div>
                    </div>
                </div>
            </section>
            
            <!-- Address Information Section -->
            <section class="form-section">
                <h2 class="section-title">
                    <i class="fas fa-home"></i> Address Information
                </h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="streetAddress" class="required">Street Address</label>
                        <input type="text" id="streetAddress" name="streetAddress" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="city" class="required">City</label>
                        <input type="text" id="city" name="city" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="state" class="required">State</label>
                        <select id="state" name="state" required>
                            <option value="">Select State</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="FL" selected>Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="zipCode" class="required">ZIP Code</label>
                        <input type="text" id="zipCode" name="zipCode" required pattern="\d{5}(-\d{4})?">
                    </div>
                </div>
            </section>
            
            <!-- Credit Restoration Simulator Section -->
            <section class="form-section simulator-section">
                <h2 class="section-title">
                    <i class="fas fa-calculator"></i> Credit Restoration Simulator
                </h2>
                
                <div class="simulator-instructions">
                    <h4><i class="fas fa-lightbulb"></i> How This Works</h4>
                    <p>Enter your credit information below to get an instant calculation of your credit utilization rate and an estimated credit score. This helps us understand your current financial situation better.</p>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="totalCreditLimit" class="required">Estimated Total Credit Limit</label>
                        <div class="input-with-icon">
                            <input type="text" id="totalCreditLimit" name="totalCreditLimit" placeholder="$10,000" required>
                            <span class="input-icon">$</span>
                        </div>
                        <div class="optional-note">Total of all your credit card limits combined</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="totalBalance" class="required">Estimated Balance on All Credit Cards</label>
                        <div class="input-with-icon">
                            <input type="text" id="totalBalance" name="totalBalance" placeholder="$3,000" required>
                            <span class="input-icon">$</span>
                        </div>
                        <div class="optional-note">Current balances across all credit cards</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="latePayments" class="required">Have You Ever Been Late on Payments?</label>
                        <select id="latePayments" name="latePayments" required>
                            <option value="">Select an option</option>
                            <option value="never">Never</option>
                            <option value="30">30 Days Late</option>
                            <option value="60">60 Days Late</option>
                            <option value="90">90+ Days Late</option>
                        </select>
                        <div class="optional-note">Select the longest delinquency you've had</div>
                    </div>
                    
                    <div class="form-group" style="display: flex; align-items: flex-end;">
                        <button type="button" id="calculateButton" onclick="calculateCreditMetrics()" class="btn btn-print" style="width: 100%; margin: 0;">
                            <i class="fas fa-calculator"></i> Calculate Score
                        </button>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <label for="paymentHistory">Payment History Score</label>
                        <div class="score-display" style="margin-top: 8px;">
                            <div class="score-bar-container" style="height: 8px; background: #e0e0e0; border-radius: 4px; overflow: hidden;">
                                <div id="paymentHistoryBar" style="height: 100%; background: #27ae60; width: 100%;"></div>
                            </div>
                            <div id="paymentHistoryText" style="font-size: 0.9rem; color: #555; margin-top: 5px;">
                                Select your payment history above
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Calculation Results -->
                <div class="simulator-results" id="simulatorResults">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-chart-line"></i> Your Credit Analysis
                    </h3>
                    
                    <div class="results-grid">
                        <div class="result-card">
                            <h4><i class="fas fa-percentage"></i> Credit Utilization Rate</h4>
                            <div class="result-value" id="utilizationRate" style="color: #3498db;">
                                0%
                            </div>
                            <div class="result-status" id="utilizationStatus" 
                                 style="background: #f0f0f0; color: #555;">
                                Enter your information
                            </div>
                            <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                                Percentage of available credit you're using
                            </p>
                        </div>
                        
                        <div class="result-card">
                            <h4><i class="fas fa-credit-card"></i> Estimated Credit Score</h4>
                            <div class="result-value" id="estimatedScore" style="color: #9b59b6;">
                                0
                            </div>
                            <div class="result-status" id="scoreStatus" 
                                 style="background: #f0f0f0; color: #555;">
                                Enter your information
                            </div>
                            <p style="font-size: 0.9rem; color: #666; margin-top: 10px;">
                                Based on utilization and payment history
                            </p>
                        </div>
                    </div>
                    
                    <div class="recommendations" id="recommendations" 
                         style="margin-top: 25px; padding: 20px; background: white; border-radius: 8px; border-left: 4px solid #3498db;">
                        <h4 style="color: var(--primary-color); margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                            <i class="fas fa-lightbulb"></i> Recommendations
                        </h4>
                        <p id="recommendationText" style="color: #555; line-height: 1.6;">
                            Enter your credit information above to receive personalized recommendations.
                        </p>
                    </div>
                </div>
                
                <div class="calculation-note" style="margin-top: 15px; padding: 15px; background: #fff8e1; border-radius: 6px; border: 1px solid #ffd54f;">
                    <p style="color: #8a6d3b; font-size: 0.9rem; margin: 0; display: flex; align-items: flex-start; gap: 10px;">
                        <i class="fas fa-exclamation-circle" style="color: #ff9800; margin-top: 3px;"></i>
                        <strong>Note:</strong> This is an estimate for educational purposes only. Your actual credit score may vary based on additional factors not considered here. This tool helps illustrate how credit utilization and payment history affect your credit score.
                    </p>
                </div>
            </section>
            
            <!-- Credit Bureau Selection Section -->
            <section class="bureau-selection">
                <h3><i class="fas fa-credit-card"></i> Select Credit Bureau</h3>
                <p style="color: #666; margin-bottom: 20px;">Select a credit bureau below to access your credit report. Once submitted, we'll use your information to pull your credit report from the selected bureau.</p>
                
                <div class="bureau-grid">
                    <div class="bureau-card">
                        <h4><i class="fas fa-file-invoice-dollar"></i> AnnualCreditReport.com</h4>
                        <p><strong>Official FREE credit reports</strong> from all 3 bureaus once every 12 months</p>
                        <a href="https://www.annualcreditreport.com" target="_blank" class="bureau-btn">
                            Get Free Annual Reports
                        </a>
                    </div>
                    
                    <div class="bureau-card">
                        <h4><i class="fas fa-chart-line"></i> Credit Karma</h4>
                        <p>Free credit scores, reports, and monitoring from TransUnion & Equifax</p>
                        <a href="https://www.creditkarma.com" target="_blank" class="bureau-btn">
                            Visit Credit Karma
                        </a>
                    </div>
                    
                    <div class="bureau-card">
                        <h4><i class="fas fa-seedling"></i> Credit Sesame</h4>
                        <p>Free credit score monitoring and financial recommendations</p>
                        <a href="https://www.creditsesame.com" target="_blank" class="bureau-btn">
                            Visit Credit Sesame
                        </a>
                    </div>

                    <!-- IDIQ Button -->
                    <div class="bureau-card idiq-card">
                        <h4><i class="fas fa-shield-alt"></i> IdentityIQ</h4>
                        <p>Secure credit monitoring with all 3 bureau reports and identity theft protection</p>
                        <a href="https://www.identityiq.com/sc-securepreferred.aspx?offercode=431297F8" target="_blank" rel="noopener noreferrer" class="bureau-btn idiq-btn">
                            Visit IdentityIQ
                        </a>
                    </div>
                </div>
            </section>
            
            <!-- AI Assistant Section -->
            <section class="ai-assistant-section">
                <h3><i class="fas fa-robot"></i> AI Credit Repair Assistants</h3>
                <p style="color: #666; margin-bottom: 20px;">Use these AI tools to get help with credit repair questions and guidance:</p>
                
                <div class="ai-grid">
                    <div class="ai-card chatgpt">
                        <h4><i class="fas fa-comment-alt"></i> ChatGPT</h4>
                        <p>Ask questions about credit repair, dispute letters, and credit improvement strategies</p>
                        <a href="https://chat.openai.com" target="_blank" class="ai-link">
                            Open ChatGPT
                        </a>
                    </div>
                    
                    <div class="ai-card gemini">
                        <h4><i class="fas fa-gem"></i> Google Gemini</h4>
                        <p>Get insights on credit laws, regulations, and financial planning advice</p>
                        <a href="https://gemini.google.com" target="_blank" class="ai-link">
                            Open Gemini
                        </a>
                    </div>
                    
                    <div class="ai-card copilot">
                        <h4><i class="fas fa-cogs"></i> Microsoft Copilot</h4>
                        <p>Assistance with financial planning, budgeting, and credit management</p>
                        <a href="https://copilot.microsoft.com" target="_blank" class="ai-link">
                            Open Copilot
                        </a>
                    </div>
                </div>
            </section>
            
            <!-- Government Legal Information -->
            <section class="legal-section">
                <h3><i class="fas fa-balance-scale"></i> Legal & Government Information</h3>
                
                <div class="legal-content">
                    <p><strong>Important Disclosures & Legal Information:</strong></p>
                    
                    <ul>
                        <li><strong>Fair Credit Reporting Act (FCRA):</strong> You have the right to dispute inaccurate information on your credit report. Credit bureaus must investigate disputes within 30 days.</li>
                        
                        <li><strong>Fair Debt Collection Practices Act (FDCPA):</strong> Debt collectors cannot harass you, use false statements, or engage in unfair practices when collecting debts.</li>
                        
                        <li><strong>Credit Repair Organizations Act (CROA):</strong> Credit repair companies cannot make false claims, charge fees before services are rendered, or guarantee specific results.</li>
                        
                        <li><strong>Free Annual Credit Reports:</strong> You are entitled to one free credit report every 12 months from each of the three major credit bureaus through AnnualCreditReport.com.</li>
                        
                        <li><strong>Consumer Financial Protection Bureau (CFPB):</strong> The CFPB provides resources and accepts complaints about credit reporting issues and credit repair services.</li>
                        
                        <li><strong>Federal Trade Commission (FTC):</strong> The FTC enforces consumer protection laws and provides information about credit repair rights and scams to avoid.</li>
                    </ul>
                    
                    <p><strong>Government Resources:</strong></p>
                    <ul>
                        <li><strong>AnnualCreditReport.com</strong> - The ONLY authorized source for free annual credit reports</li>
                        <li><strong>Consumer Financial Protection Bureau</strong> - www.consumerfinance.gov</li>
                        <li><strong>Federal Trade Commission</strong> - www.ftc.gov</li>
                        <li><strong>Office of the Comptroller of the Currency</strong> - www.occ.gov</li>
                    </ul>
                    
                    <p style="margin-top: 15px; font-style: italic;">
                        <strong>Disclaimer:</strong> This service helps you exercise your legal rights under federal credit laws. We do not guarantee specific results, and we cannot remove accurate negative information from your credit report. Results may vary based on individual circumstances.
                    </p>
                </div>
            </section>
            
            <!-- Comprehensive Disclaimers Section -->
            <section class="disclaimer-section">
                <h3><i class="fas fa-shield-alt"></i> Important Legal Disclaimers & Terms of Service</h3>
                <p style="color: #666; font-size: 0.95rem; margin-bottom: 20px;">Please read and acknowledge all disclaimers below before proceeding with your electronic signature.</p>
                
                <div class="disclaimer-item">
                    <h4>1. Platform Role Disclaimer</h4>
                    <p>This platform is a client intake, disclosure acknowledgment, and workflow facilitation system only. The platform does not access, retrieve, analyze, modify, store, transmit, or pull consumer credit reports, credit scores, or credit bureau data. All consumer credit reports and credit information are obtained directly by the consumer through independent third-party services selected by the consumer.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>2. Third-Party Services Disclaimer</h4>
                    <p>This platform may contain links to third-party credit monitoring, credit reporting, or financial service providers, including but not limited to Credit Karma, AnnualCreditReport.com, Credit Sesame, Capital One, IdentityIQ, or similar services. The platform owner does not own, operate, control, endorse, or assume responsibility for any third-party services. Each third-party service operates independently under its own terms, privacy policies, and compliance obligations.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>3. Consumer Authorization Disclaimer</h4>
                    <p>All credit-related actions performed through linked third-party services require direct consumer consent. Consumers must personally authenticate, acknowledge disclosures, and electronically sign authorizations before proceeding. No credit information is accessed or obtained without the consumer's direct participation and authorization.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>4. No Legal/Financial Advice Disclaimer</h4>
                    <p>The platform does not provide legal advice, financial advice, credit counseling, or credit repair advice. Any information provided through the platform is for general informational purposes only. Users are responsible for consulting with qualified legal, financial, or compliance professionals as needed.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>5. CROA Compliance Disclaimer</h4>
                    <p>Use of this platform does not guarantee credit score improvement, credit profile changes, or specific credit outcomes. Results may vary based on individual consumer circumstances. No representations or guarantees are made regarding the removal of accurate, timely, or verifiable information from a consumer's credit report.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>6. Data Handling & Storage Disclaimer</h4>
                    <p>The platform collects only the information voluntarily provided through intake forms. The platform does not store consumer credit reports, credit scores, or bureau data. Users are responsible for ensuring compliance with all applicable data protection, privacy, and recordkeeping laws.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>7. Third-Party User Responsibility Clause</h4>
                    <p>Any individual or business using this platform for client services is solely responsible for:  Compliance with federal, state, and local laws  Proper disclosures to consumers  Obtaining all required authorizations and consents  Compliance with CROA, FCRA, FTC, and applicable regulations. The platform owner assumes no responsibility for the business practices of third-party users.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>8. Indemnification Disclaimer</h4>
                    <p>Users agree to indemnify and hold harmless the platform owner from any claims, damages, losses, or liabilities arising from their use of the platform, including but not limited to regulatory violations, consumer disputes, or third-party claims.</p>
                </div>
                
                <div class="disclaimer-item">
                    <h4>9. No Bureau Affiliation Disclaimer</h4>
                    <p>The platform is not affiliated with, endorsed by, or sponsored by Equifax, Experian, TransUnion, or any credit bureau.</p>
                </div>
            </section>
            
            <!-- Authorization & Consent Section -->
            <section class="form-section">
                <h2 class="section-title">
                    <i class="fas fa-check-circle"></i> Authorization & Consent
                </h2>
                
                <div class="form-row">
                    <div class="form-group full-width">
                        <div class="checkbox-group">
                            <input type="checkbox" id="platformRoleDisclaimer" name="platformRoleDisclaimer" required>
                            <label for="platformRoleDisclaimer" class="required">I acknowledge and understand the Platform Role Disclaimer - This platform does not access or pull my credit reports.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="thirdPartyDisclaimer" name="thirdPartyDisclaimer" required>
                            <label for="thirdPartyDisclaimer" class="required">I acknowledge the Third-Party Services Disclaimer - The platform is not responsible for third-party services.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="consumerAuthDisclaimer" name="consumerAuthDisclaimer" required>
                            <label for="consumerAuthDisclaimer" class="required">I acknowledge the Consumer Authorization Disclaimer - I understand I must personally authorize all credit actions.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="noAdviceDisclaimer" name="noAdviceDisclaimer" required>
                            <label for="noAdviceDisclaimer" class="required">I acknowledge the No Legal/Financial Advice Disclaimer - This platform does not provide legal or financial advice.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="croaDisclaimer" name="croaDisclaimer" required>
                            <label for="croaDisclaimer" class="required">I acknowledge the CROA Compliance Disclaimer - No guarantee of credit score improvement or specific outcomes.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="dataHandlingDisclaimer" name="dataHandlingDisclaimer" required>
                            <label for="dataHandlingDisclaimer" class="required">I acknowledge the Data Handling & Storage Disclaimer - The platform does not store credit reports or bureau data.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="userResponsibilityDisclaimer" name="userResponsibilityDisclaimer" required>
                            <label for="userResponsibilityDisclaimer" class="required">I acknowledge the Third-Party User Responsibility Clause - Service providers using this platform are responsible for compliance.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="indemnificationDisclaimer" name="indemnificationDisclaimer" required>
                            <label for="indemnificationDisclaimer" class="required">I agree to the Indemnification Disclaimer - I will hold the platform harmless from claims arising from my use.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="noBureauAffiliationDisclaimer" name="noBureauAffiliationDisclaimer" required>
                            <label for="noBureauAffiliationDisclaimer" class="required">I acknowledge the No Bureau Affiliation Disclaimer - This platform is not affiliated with credit bureaus.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="creditReportAuthorization" name="creditReportAuthorization" required>
                            <label for="creditReportAuthorization" class="required">I authorize the credit repair service to obtain my credit reports from credit bureaus for the purpose of credit analysis and repair.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="privacyPolicy" name="privacyPolicy" required>
                            <label for="privacyPolicy" class="required">I have read and agree to the Privacy Policy and understand how my information will be used.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="fcraConsent" name="fcraConsent" required>
                            <label for="fcraConsent" class="required">I understand my rights under the Fair Credit Reporting Act (FCRA) and grant permission for credit repair services.</label>
                        </div>
                        
                        <div class="checkbox-group">
                            <input type="checkbox" id="disclaimer" name="disclaimer" required>
                            <label for="disclaimer" class="required">I understand that this service helps exercise my legal rights and does not guarantee removal of accurate negative information from my credit report.</label>
                        </div>
                    </div>
                </div>
                
                <!-- Electronic Signature Fields -->
                <div class="electronic-signature-fields">
                    <h4><i class="fas fa-pen-nib"></i> Electronic Signature Required</h4>
                    <p>Please complete all checkboxes above before providing your electronic signature below. By signing, you acknowledge that you have read, understood, and agreed to all terms and disclaimers.</p>
                    
                    <div class="signature-fields-grid">
                        <div class="signature-field-group">
                            <label for="electronicFirstName">First Name *</label>
                            <input type="text" id="electronicFirstName" name="electronicFirstName" required disabled placeholder="First Name">
                        </div>
                        
                        <div class="signature-field-group">
                            <label for="electronicLastName">Last Name *</label>
                            <input type="text" id="electronicLastName" name="electronicLastName" required disabled placeholder="Last Name">
                        </div>
                        
                        <div class="signature-field-group">
                            <label for="ssnLast4">Last 4 SSN *</label>
                            <input type="text" id="ssnLast4" name="ssnLast4" required disabled placeholder="XXXX" maxlength="4" pattern="[0-9]{4}">
                        </div>
                    </div>
                    
                    <div class="signature-note">
                        <i class="fas fa-info-circle"></i>
                        <p><strong>Important:</strong> You must acknowledge all checkboxes above before you can provide your electronic signature. The signature fields will unlock automatically once all checkboxes are checked.</p>
                    </div>
                </div>
                
                <!-- Electronic Signature Section -->
                <div class="signature-section" id="signatureSection">
                    <h3><i class="fas fa-signature"></i> Electronic Signature</h3>
                    <div class="signature-input-group">
                        <h4><i class="fas fa-check-circle"></i> I Understand and Agree to the Terms</h4>
                        <p>By signing below, you confirm that you have read, understood, and agree to all the terms and conditions outlined in this application.</p>
                        
                        <div class="signature-pad" id="signaturePad"></div>
                        
                        <div class="signature-actions">
                            <button type="button" id="clearSignature" class="signature-btn clear">
                                <i class="fas fa-eraser"></i> Clear Signature
                            </button>
                            <button type="button" id="acceptSignature" class="signature-btn accept">
                                <i class="fas fa-check"></i> Accept & Sign
                            </button>
                        </div>
                        
                        <div class="signature-display" id="signatureDisplay">
                            <p class="signature-text" id="signatureText">No signature provided</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Print/PDF Section -->
            <section class="print-section">
                <h3><i class="fas fa-print"></i> Print, Save, or Send Application</h3>
                <p style="color: #666; margin-bottom: 20px;">Once you've completed the form, you can print it, save it as a PDF, or send it via SMS for your records.</p>
                
                <div class="print-buttons">
                    <button type="button" id="printApplication" class="btn btn-print">
                        <i class="fas fa-print"></i> Print Application
                    </button>
                    <button type="button" id="saveAsPDF" class="btn btn-pdf">
                        <i class="fas fa-file-pdf"></i> Save as PDF
                    </button>
                    <button type="button" id="sendSMS1" class="btn btn-sms" data-phone="4158770687">
                        <i class="fas fa-sms"></i> Send SMS to (415) 877-0687
                    </button>
                    <button type="button" id="sendSMS2" class="btn btn-sms" data-phone="7866939083">
                        <i class="fas fa-sms"></i> Send SMS to (786) 693-9083
                    </button>
                    <button type="reset" class="btn btn-reset">
                        <i class="fas fa-redo"></i> Reset Form
                    </button>
                </div>
            </section>
        </form>
    </div>
    
    <script>
        // ============================================
        // INITIALIZATION
        // ============================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing application...');
            
            // Admin Login Functionality
            initAdminLogin();
            
            // Translator Functionality
            initTranslator();
            
            // Print/PDF Functionality
            initPrintPDF();
            
            // Form Validation
            initFormValidation();
            
            // Credit Simulator
            initCreditSimulator();
            
            // Signature Functionality
            initSignature();
            
            console.log('Application initialized successfully!');
        });
        
        // ============================================
        // ADMIN LOGIN FUNCTIONALITY
        // ============================================
        
        function initAdminLogin() {
            const CORRECT_USERNAME = 'mycredit';
            const CORRECT_PASSWORD = 'admin$$$333';
            
            let isLoggedIn = sessionStorage.getItem('creditAdminLoggedIn') === 'true';
            const formContainer = document.querySelector('.form-container');
            const adminRequiredNotice = document.getElementById('adminRequiredNotice');
            
            if (isLoggedIn) {
                showForm();
            } else {
                hideForm();
            }
            
            function showForm() {
                if (formContainer) {
                    formContainer.classList.add('visible');
                }
                if (adminRequiredNotice) {
                    adminRequiredNotice.style.display = 'none';
                }
                updateLoginSection(true);
            }
            
            function hideForm() {
                if (formContainer) {
                    formContainer.classList.remove('visible');
                }
                if (adminRequiredNotice) {
                    adminRequiredNotice.style.display = 'block';
                }
                updateLoginSection(false);
            }
            
            function updateLoginSection(loggedIn) {
                const loginSection = document.getElementById('loginSection');
                if (!loginSection) return;
                
                if (loggedIn) {
                    loginSection.innerHTML = `
                        <h4><i class="fas fa-user-check"></i> Admin Logged In</h4>
                        <div class="login-fields">
                            <button type="button" id="logoutBtn" class="logout-btn">Logout</button>
                        </div>
                        <div class="login-status" style="color: #27ae60;">Welcome, Admin!</div>
                    `;
                    
                    setTimeout(() => {
                        const logoutBtn = document.getElementById('logoutBtn');
                        if (logoutBtn) {
                            logoutBtn.addEventListener('click', function() {
                                sessionStorage.removeItem('creditAdminLoggedIn');
                                location.reload();
                            });
                        }
                    }, 100);
                } else {
                    loginSection.innerHTML = `
                        <h4><i class="fas fa-lock"></i> Admin Login</h4>
                        <div class="login-fields">
                            <input type="text" id="adminUsername" class="login-input" placeholder="Username" autocomplete="off">
                            <input type="password" id="adminPassword" class="login-input" placeholder="Password" autocomplete="off">
                            <button type="button" id="loginBtn" class="login-btn">Login</button>
                        </div>
                        <div class="login-status" id="loginStatus"></div>
                    `;
                    
                    setTimeout(() => {
                        const newLoginBtn = document.getElementById('loginBtn');
                        const newUsername = document.getElementById('adminUsername');
                        const newPassword = document.getElementById('adminPassword');
                        const newStatus = document.getElementById('loginStatus');
                        
                        if (newLoginBtn && newUsername && newPassword) {
                            newLoginBtn.addEventListener('click', handleLogin);
                            newPassword.addEventListener('keypress', function(e) {
                                if (e.key === 'Enter') handleLogin();
                            });
                        }
                        
                        function handleLogin() {
                            const username = newUsername.value.trim();
                            const password = newPassword.value.trim();
                            
                            if (!username || !password) {
                                newStatus.textContent = 'Please enter both username and password';
                                newStatus.style.color = '#ffcc00';
                                return;
                            }
                            
                            if (username === CORRECT_USERNAME && password === CORRECT_PASSWORD) {
                                newStatus.textContent = 'Login successful!';
                                newStatus.style.color = '#27ae60';
                                sessionStorage.setItem('creditAdminLoggedIn', 'true');
                                setTimeout(() => location.reload(), 1000);
                            } else {
                                newStatus.textContent = 'Invalid username or password';
                                newStatus.style.color = '#e74c3c';
                                newUsername.value = '';
                                newPassword.value = '';
                                newUsername.focus();
                            }
                        }
                    }, 100);
                }
            }
        }
        
        // ============================================
        // TRANSLATOR FUNCTIONALITY
        // ============================================
        
        function initTranslator() {
            const translatorToggle = document.getElementById('translatorToggle');
            const translatorModal = document.getElementById('translatorModal');
            const closeTranslator = document.getElementById('closeTranslator');
            const sourceLanguage = document.getElementById('sourceLanguage');
            const targetLanguage = document.getElementById('targetLanguage');
            const swapLanguages = document.getElementById('swapLanguages');
            const textToTranslate = document.getElementById('textToTranslate');
            const charCount = document.getElementById('charCount');
            const translateBtn = document.getElementById('translateBtn');
            const translationResult = document.getElementById('translationResult');
            const copyTranslation = document.getElementById('copyTranslation');
            
            if (translatorToggle) {
                translatorToggle.addEventListener('click', function() {
                    if (translatorModal) {
                        translatorModal.classList.add('active');
                    }
                    if (textToTranslate) {
                        textToTranslate.focus();
                    }
                });
            }
            
            if (closeTranslator) {
                closeTranslator.addEventListener('click', function() {
                    if (translatorModal) {
                        translatorModal.classList.remove('active');
                    }
                });
            }
            
            if (translatorModal) {
                translatorModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        translatorModal.classList.remove('active');
                    }
                });
            }
            
            if (textToTranslate && charCount) {
                textToTranslate.addEventListener('input', function() {
                    charCount.textContent = this.value.length;
                });
            }
            
            if (swapLanguages && sourceLanguage && targetLanguage) {
                swapLanguages.addEventListener('click', function() {
                    const sourceValue = sourceLanguage.value;
                    const targetValue = targetLanguage.value;
                    
                    sourceLanguage.value = targetValue;
                    targetLanguage.value = sourceValue;
                    
                    const sourceText = textToTranslate.value;
                    const targetText = translationResult.textContent;
                    
                    if (targetText !== 'Translation will appear here as you type...') {
                        textToTranslate.value = targetText;
                        translationResult.textContent = sourceText;
                        charCount.textContent = textToTranslate.value.length;
                    }
                });
            }
            
            if (translateBtn && textToTranslate && translationResult) {
                translateBtn.addEventListener('click', function() {
                    const text = textToTranslate.value.trim();
                    const sourceLang = sourceLanguage.value;
                    const targetLang = targetLanguage.value;
                    
                    if (!text) {
                        translationResult.textContent = 'Please enter some text to translate.';
                        return;
                    }
                    
                    translationResult.innerHTML = `
                        <div style="text-align: center; padding: 20px;">
                            <i class="fas fa-spinner fa-spin fa-2x" style="color: #86dbdb;"></i>
                            <p style="margin-top: 10px;">Translating...</p>
                        </div>
                    `;
                    
                    setTimeout(() => {
                        performTranslation(text, sourceLang, targetLang);
                    }, 800);
                });
            }
            
            let typingTimer;
            if (textToTranslate && translationResult) {
                textToTranslate.addEventListener('input', function() {
                    clearTimeout(typingTimer);
                    
                    const text = this.value.trim();
                    if (!text || text.length < 3) {
                        if (!text) {
                            translationResult.textContent = 'Translation will appear here as you type...';
                        }
                        return;
                    }
                    
                    typingTimer = setTimeout(() => {
                        const sourceLang = sourceLanguage.value;
                        const targetLang = targetLanguage.value;
                        
                        translationResult.innerHTML = `
                            <div style="color: #666; font-size: 0.9rem;">
                                <i class="fas fa-spinner fa-spin"></i> Translating...
                            </div>
                        `;
                        
                        setTimeout(() => {
                            performTranslation(text, sourceLang, targetLang);
                        }, 500);
                    }, 1500);
                });
            }
            
            function performTranslation(text, sourceLang, targetLang) {
                if (!translationResult || !sourceLanguage || !targetLanguage) return;
                
                const sourceLangName = sourceLanguage.options[sourceLanguage.selectedIndex].text;
                const targetLangName = targetLanguage.options[targetLanguage.selectedIndex].text;
                
                const mockTranslatedText = `[${targetLangName} Translation]: "${text}"`;
                
                if (targetLang === 'ht') {
                    translationResult.innerHTML = `
                        <div style="margin-bottom: 10px; color: #666; font-size: 0.9rem;">
                            <i class="fas fa-check-circle" style="color: #27ae60;"></i> Translated from <strong>${sourceLangName}</strong> to <strong>${targetLangName}</strong>
                        </div>
                        <div style="color: #333; font-size: 1.1rem; line-height: 1.6;">
                            ${text}  ${text} (nan Kreyl Ayisyen)
                        </div>
                        <div style="margin-top: 15px; font-size: 0.85rem; color: #666;">
                            <i class="fas fa-info-circle"></i> Demo translation for illustration.
                        </div>
                    `;
                } else {
                    translationResult.innerHTML = `
                        <div style="margin-bottom: 10px; color: #666; font-size: 0.9rem;">
                            <i class="fas fa-check-circle" style="color: #27ae60;"></i> Translated from <strong>${sourceLangName}</strong> to <strong>${targetLangName}</strong>
                        </div>
                        <div style="color: #333; font-size: 1.1rem; line-height: 1.6;">
                            ${mockTranslatedText}
                        </div>
                        <div style="margin-top: 15px; font-size: 0.85rem; color: #666;">
                            <i class="fas fa-info-circle"></i> Demo translation. Connect to translation API for live translations.
                        </div>
                    `;
                }
                
                if (copyTranslation) {
                    copyTranslation.disabled = false;
                }
            }
            
            if (copyTranslation) {
                copyTranslation.addEventListener('click', function() {
                    if (!translationResult) return;
                    
                    const text = translationResult.textContent;
                    
                    if (text.includes('Translation will appear here as you type...')) {
                        return;
                    }
                    
                    let cleanText = text;
                    if (text.includes('')) {
                        cleanText = text.split('')[1] || text;
                    }
                    
                    navigator.clipboard.writeText(cleanText.trim()).then(function() {
                        copyTranslation.classList.add('copied');
                        copyTranslation.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        
                        setTimeout(function() {
                            copyTranslation.classList.remove('copied');
                            copyTranslation.innerHTML = '<i class="far fa-copy"></i> Copy Translation';
                        }, 2000);
                    }).catch(function(err) {
                        const textArea = document.createElement('textarea');
                        textArea.value = cleanText.trim();
                        document.body.appendChild(textArea);
                        textArea.select();
                        document.execCommand('copy');
                        document.body.removeChild(textArea);
                        
                        copyTranslation.classList.add('copied');
                        copyTranslation.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        
                        setTimeout(function() {
                            copyTranslation.classList.remove('copied');
                            copyTranslation.innerHTML = '<i class="far fa-copy"></i> Copy Translation';
                        }, 2000);
                    });
                });
            }
        }
        
        // ============================================
        // PRINT & PDF FUNCTIONALITY - FIXED VERSION
        // ============================================
        
        function initPrintPDF() {
            const printApplicationBtn = document.getElementById('printApplication');
            const saveAsPDFBtn = document.getElementById('saveAsPDF');
            const printModal = document.getElementById('printModal');
            const printOptions = document.querySelectorAll('.print-option');
            const confirmPrintBtn = document.getElementById('confirmPrint');
            const cancelPrintBtn = document.getElementById('cancelPrint');
            
            let selectedPrintOption = null;
            
            // Direct Print Button
            if (printApplicationBtn) {
                printApplicationBtn.addEventListener('click', function() {
                    console.log('Print button clicked');
                    window.print();
                });
            }
            
            // Direct PDF Button
            if (saveAsPDFBtn) {
                saveAsPDFBtn.addEventListener('click', function() {
                    console.log('PDF button clicked');
                    generatePDF();
                });
            }
            
            // SMS Buttons Functionality
            const sendSMS1Btn = document.getElementById('sendSMS1');
            const sendSMS2Btn = document.getElementById('sendSMS2');
            
            function collectFormData() {
                const formData = {
                    firstName: document.getElementById('firstName')?.value || '',
                    lastName: document.getElementById('lastName')?.value || '',
                    email: document.getElementById('email')?.value || '',
                    phone: document.getElementById('phone')?.value || '',
                    streetAddress: document.getElementById('streetAddress')?.value || '',
                    city: document.getElementById('city')?.value || '',
                    state: document.getElementById('state')?.value || '',
                    zipCode: document.getElementById('zipCode')?.value || '',
                    electronicFirstName: document.getElementById('electronicFirstName')?.value || '',
                    electronicLastName: document.getElementById('electronicLastName')?.value || '',
                    ssnLast4: document.getElementById('ssnLast4')?.value || ''
                };
                return formData;
            }
            
            function formatSMSMessage(data) {
                let message = "Credit Repair Application:\n\n";
                message += `Name: ${data.firstName} ${data.lastName}\n`;
                message += `Email: ${data.email}\n`;
                message += `Phone: ${data.phone}\n\n`;
                message += `Address: ${data.streetAddress}\n`;
                message += `City: ${data.city}\n`;
                message += `State: ${data.state}\n`;
                message += `ZIP: ${data.zipCode}\n\n`;
                message += `Signed by: ${data.electronicFirstName} ${data.electronicLastName}\n`;
                message += `SSN Last 4: ${data.ssnLast4}`;
                return message;
            }
            
            function sendSMStoPhone(phoneNumber) {
                const formData = collectFormData();
                
                if (!formData.firstName || !formData.lastName || !formData.phone) {
                    alert('Please fill out all required fields before sending SMS.');
                    return;
                }
                
                const message = formatSMSMessage(formData);
                const smsLink = `sms:${phoneNumber}?body=${encodeURIComponent(message)}`;
                window.open(smsLink, '_self');
            }
            
            if (sendSMS1Btn) {
                sendSMS1Btn.addEventListener('click', function() {
                    const phone = this.getAttribute('data-phone');
                    sendSMStoPhone(phone);
                });
            }
            
            if (sendSMS2Btn) {
                sendSMS2Btn.addEventListener('click', function() {
                    const phone = this.getAttribute('data-phone');
                    sendSMStoPhone(phone);
                });
            }
            
            // Print Modal Options
            printOptions.forEach(option => {
                option.addEventListener('click', function() {
                    printOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedPrintOption = this.getAttribute('data-action');
                });
            });
            
            if (confirmPrintBtn) {
                confirmPrintBtn.addEventListener('click', function() {
                    if (!selectedPrintOption) {
                        alert('Please select an option first.');
                        return;
                    }
                    
                    if (printModal) {
                        printModal.classList.remove('active');
                    }
                    
                    switch (selectedPrintOption) {
                        case 'print':
                            console.log('Print option selected');
                            window.print();
                            break;
                        case 'pdf':
                            console.log('PDF option selected');
                            generatePDF();
                            break;
                        case 'preview':
                            console.log('Preview option selected');
                            showPrintPreview();
                            break;
                    }
                });
            }
            
            if (cancelPrintBtn) {
                cancelPrintBtn.addEventListener('click', function() {
                    if (printModal) {
                        printModal.classList.remove('active');
                    }
                });
            }
            
            if (printModal) {
                printModal.addEventListener('click', function(e) {
                    if (e.target === this) {
                        printModal.classList.remove('active');
                    }
                });
            }
            
            function showPrintPreview() {
                const printWindow = window.open('', '_blank');
                const formData = collectFormData();
                
                const today = new Date();
                const dateStr = today.toLocaleDateString();
                
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Credit Repair Application - Print Preview</title>
                        <style>
                            body { 
                                font-family: Arial, sans-serif; 
                                padding: 30px; 
                                line-height: 1.6;
                                color: #333;
                                max-width: 800px;
                                margin: 0 auto;
                            }
                            .header { 
                                text-align: center; 
                                margin-bottom: 30px;
                                border-bottom: 3px solid #2c3e50;
                                padding-bottom: 20px;
                            }
                            .header h1 { 
                                color: #2c3e50; 
                                margin-bottom: 10px;
                            }
                            .section { 
                                margin-bottom: 30px; 
                                border-bottom: 1px solid #ddd; 
                                padding-bottom: 20px; 
                                page-break-inside: avoid;
                            }
                            .section h3 {
                                color: #3498db;
                                background: #f8f9fa;
                                padding: 10px 15px;
                                border-left: 4px solid #3498db;
                                margin-bottom: 15px;
                            }
                            .form-data { 
                                background: #f9f9f9; 
                                padding: 15px; 
                                border-radius: 5px; 
                                margin: 10px 0; 
                                border-left: 3px solid #3498db;
                            }
                            .data-row {
                                display: flex;
                                margin-bottom: 8px;
                            }
                            .data-label {
                                font-weight: bold;
                                min-width: 200px;
                                color: #2c3e50;
                            }
                            .footer {
                                margin-top: 40px;
                                padding-top: 20px;
                                border-top: 1px solid #ddd;
                                font-size: 0.9rem;
                                color: #666;
                                text-align: center;
                            }
                            @media print {
                                body { padding: 20px; }
                                .no-print { display: none; }
                            }
                        </style>
                    </head>
                    <body>
                        <div class="header">
                            <h1>Credit Repair Application</h1>
                            <p><strong>Date:</strong> ${dateStr}</p>
                            <p><strong>Confidential Document</strong></p>
                        </div>
                        
                        <div class="section">
                            <h3>Personal Information</h3>
                            <div class="form-data">
                                <div class="data-row">
                                    <div class="data-label">Full Name:</div>
                                    <div>${formData.firstName} ${formData.lastName}</div>
                                </div>
                                <div class="data-row">
                                    <div class="data-label">Phone:</div>
                                    <div>${formData.phone}</div>
                                </div>
                                <div class="data-row">
                                    <div class="data-label">Email:</div>
                                    <div>${formData.email || 'Not provided'}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <h3>Address Information</h3>
                            <div class="form-data">
                                <div class="data-row">
                                    <div class="data-label">Street Address:</div>
                                    <div>${formData.streetAddress}</div>
                                </div>
                                <div class="data-row">
                                    <div class="data-label">City, State, ZIP:</div>
                                    <div>${formData.city}, ${formData.state} ${formData.zipCode}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="section">
                            <h3>Electronic Signature</h3>
                            <div class="form-data">
                                <div class="data-row">
                                    <div class="data-label">Signed By:</div>
                                    <div>${formData.electronicFirstName} ${formData.electronicLastName}</div>
                                </div>
                                <div class="data-row">
                                    <div class="data-label">SSN Last 4:</div>
                                    <div>${formData.ssnLast4 || 'Not provided'}</div>
                                </div>
                                <div class="data-row">
                                    <div class="data-label">Signature Status:</div>
                                    <div>Electronically signed and accepted</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="footer">
                            <p>This document was generated on ${dateStr} from the Credit Repair Application Form.</p>
                            <p>All information contained herein is confidential and protected by privacy laws.</p>
                        </div>
                        
                        <div class="no-print" style="margin-top: 30px; text-align: center;">
                            <button onclick="window.print()" style="padding: 12px 24px; background: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-right: 10px;">
                                <i class="fas fa-print"></i> Print Document
                            </button>
                            <button onclick="window.close()" style="padding: 12px 24px; background: #95a5a6; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px;">
                                <i class="fas fa-times"></i> Close Preview
                            </button>
                        </div>
                    </body>
                    </html>
                `);
                printWindow.document.close();
            }
            
            // Actual PDF Generation Function
            window.generatePDF = function() {
                console.log('Generating PDF...');
                
                // Check if jsPDF is available
                if (typeof window.jspdf === 'undefined') {
                    alert('Error: jsPDF library not loaded. Please check your internet connection and try again.');
                    return;
                }
                
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF('p', 'pt', 'letter');
                const formData = collectFormData();
                const today = new Date();
                const dateStr = today.toLocaleDateString();
                
                // Add watermark
                doc.setTextColor(200, 200, 200);
                doc.setFontSize(60);
                doc.text('CONFIDENTIAL', 150, 300, { angle: 45 });
                doc.setTextColor(0, 0, 0);
                
                // Title
                doc.setFontSize(24);
                doc.setTextColor(44, 62, 80);
                doc.text('Credit Repair Application', 40, 40);
                
                doc.setFontSize(12);
                doc.setTextColor(100, 100, 100);
                doc.text(`Generated: ${dateStr}`, 40, 60);
                doc.text('Confidential Document - For Authorized Use Only', 40, 75);
                
                // Line separator
                doc.setDrawColor(52, 152, 219);
                doc.setLineWidth(2);
                doc.line(40, 85, 555, 85);
                
                let yPos = 110;
                
                // Personal Information Section
                doc.setFontSize(16);
                doc.setTextColor(52, 152, 219);
                doc.text('Personal Information', 40, yPos);
                yPos += 20;
                
                doc.setFontSize(11);
                doc.setTextColor(0, 0, 0);
                doc.text(`Name: ${formData.firstName} ${formData.lastName}`, 50, yPos);
                yPos += 20;
                doc.text(`Phone: ${formData.phone}`, 50, yPos);
                yPos += 20;
                doc.text(`Email: ${formData.email || 'Not provided'}`, 50, yPos);
                yPos += 30;
                
                // Address Information
                doc.setFontSize(16);
                doc.setTextColor(52, 152, 219);
                doc.text('Address Information', 40, yPos);
                yPos += 20;
                
                doc.setFontSize(11);
                doc.setTextColor(0, 0, 0);
                doc.text(`Address: ${formData.streetAddress}`, 50, yPos);
                yPos += 20;
                doc.text(`City, State, ZIP: ${formData.city}, ${formData.state} ${formData.zipCode}`, 50, yPos);
                yPos += 30;
                
                // Electronic Signature
                doc.setFontSize(16);
                doc.setTextColor(52, 152, 219);
                doc.text('Electronic Signature & Authorization', 40, yPos);
                yPos += 20;
                
                doc.setFontSize(11);
                doc.setTextColor(0, 0, 0);
                doc.text(`Signed By: ${formData.electronicFirstName} ${formData.electronicLastName}`, 50, yPos);
                yPos += 20;
                doc.text(`SSN Last 4: ${formData.ssnLast4 || 'Not provided'}`, 50, yPos);
                yPos += 20;
                doc.text('Signature Status: Electronically signed and accepted', 50, yPos);
                yPos += 30;
                
                // Terms Acknowledgement
                doc.setFontSize(12);
                doc.setTextColor(44, 62, 80);
                doc.text('Terms & Disclaimers Acknowledged:', 40, yPos);
                yPos += 20;
                
                doc.setFontSize(10);
                doc.setTextColor(0, 0, 0);
                const terms = [
                    ' Platform Role Disclaimer',
                    ' Third-Party Services Disclaimer', 
                    ' Consumer Authorization Disclaimer',
                    ' No Legal/Financial Advice Disclaimer',
                    ' CROA Compliance Disclaimer',
                    ' Data Handling & Storage Disclaimer',
                    ' Third-Party User Responsibility Clause',
                    ' Indemnification Disclaimer',
                    ' No Bureau Affiliation Disclaimer',
                    ' Credit Report Authorization',
                    ' Privacy Policy Agreement',
                    ' FCRA Consent',
                    ' General Disclaimer'
                ];
                
                let col1 = 50;
                let col2 = 300;
                let currentCol = col1;
                
                terms.forEach((term, index) => {
                    if (yPos > 700) {
                        doc.addPage();
                        yPos = 40;
                    }
                    
                    doc.text(term, currentCol, yPos);
                    yPos += 15;
                    
                    // Switch to second column after 7 items
                    if (index === 6) {
                        currentCol = col2;
                        yPos = 140; // Reset Y position for second column
                    }
                });
                
                // Footer
                const pageCount = doc.internal.getNumberOfPages();
                for (let i = 1; i <= pageCount; i++) {
                    doc.setPage(i);
                    doc.setFontSize(10);
                    doc.setTextColor(100, 100, 100);
                    doc.text(`Page ${i} of ${pageCount}`, 40, 800);
                    doc.text('Confidential - Credit Repair Application', 400, 800);
                }
                
                // Save the PDF
                const fileName = `Credit_Repair_Application_${formData.lastName}_${dateStr.replace(/\//g, '-')}.pdf`;
                doc.save(fileName);
                
                // Show success message
                setTimeout(() => {
                    alert(` PDF successfully downloaded as: ${fileName}`);
                }, 500);
            };
        }
        
        // ============================================
        // FORM VALIDATION
        // ============================================
        
        function initFormValidation() {
            const form = document.getElementById('creditRepairForm');
            const phoneInput = document.getElementById('phone');
            const zipInput = document.getElementById('zipCode');
            
            // Phone formatting
            if (phoneInput) {
                phoneInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    
                    if (value.length > 3 && value.length <= 6) {
                        value = value.replace(/(\d{3})(\d+)/, '($1) $2');
                    } else if (value.length > 6) {
                        value = value.replace(/(\d{3})(\d{3})(\d+)/, '($1) $2-$3');
                    }
                    
                    e.target.value = value.substring(0, 14);
                });
            }
            
            // ZIP code formatting
            if (zipInput) {
                zipInput.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    
                    if (value.length > 5) {
                        value = value.replace(/(\d{5})(\d+)/, '$1-$2');
                    }
                    
                    e.target.value = value.substring(0, 10);
                });
            }
            
            // Checkbox validation and signature field enabling
            const allCheckboxes = [
                'platformRoleDisclaimer',
                'thirdPartyDisclaimer',
                'consumerAuthDisclaimer',
                'noAdviceDisclaimer',
                'croaDisclaimer',
                'dataHandlingDisclaimer',
                'userResponsibilityDisclaimer',
                'indemnificationDisclaimer',
                'noBureauAffiliationDisclaimer',
                'creditReportAuthorization',
                'privacyPolicy',
                'fcraConsent',
                'disclaimer'
            ];
            
            const signatureFields = {
                firstName: document.getElementById('electronicFirstName'),
                lastName: document.getElementById('electronicLastName'),
                ssnLast4: document.getElementById('ssnLast4')
            };
            
            const acknowledgmentModal = document.getElementById('acknowledgmentModal');
            const closeAcknowledgmentModalBtn = document.getElementById('closeAcknowledgmentModal');
            
            if (closeAcknowledgmentModalBtn) {
                closeAcknowledgmentModalBtn.addEventListener('click', function() {
                    if (acknowledgmentModal) {
                        acknowledgmentModal.classList.remove('active');
                    }
                });
            }
            
            function checkAllCheckboxes() {
                let allChecked = true;
                allCheckboxes.forEach(function(checkboxId) {
                    const checkbox = document.getElementById(checkboxId);
                    if (checkbox && !checkbox.checked) {
                        allChecked = false;
                    }
                });
                return allChecked;
            }
            
            function updateSignatureFields() {
                const allChecked = checkAllCheckboxes();
                
                if (allChecked) {
                    Object.values(signatureFields).forEach(field => {
                        if (field) {
                            field.disabled = false;
                            field.style.background = 'white';
                        }
                    });
                    
                    // Auto-fill from form if empty
                    if (signatureFields.firstName && !signatureFields.firstName.value) {
                        const firstName = document.getElementById('firstName');
                        if (firstName && firstName.value) {
                            signatureFields.firstName.value = firstName.value;
                        }
                    }
                    
                    if (signatureFields.lastName && !signatureFields.lastName.value) {
                        const lastName = document.getElementById('lastName');
                        if (lastName && lastName.value) {
                            signatureFields.lastName.value = lastName.value;
                        }
                    }
                } else {
                    Object.values(signatureFields).forEach(field => {
                        if (field) {
                            field.disabled = true;
                            field.style.background = '#e9ecef';
                        }
                    });
                }
            }
            
            allCheckboxes.forEach(function(checkboxId) {
                const checkbox = document.getElementById(checkboxId);
                if (checkbox) {
                    checkbox.addEventListener('change', updateSignatureFields);
                }
            });
            
            Object.values(signatureFields).forEach(function(field) {
                if (field) {
                    field.addEventListener('click', function() {
                        if (this.disabled && acknowledgmentModal) {
                            acknowledgmentModal.classList.add('active');
                        }
                    });
                }
            });
            
            if (signatureFields.ssnLast4) {
                signatureFields.ssnLast4.addEventListener('input', function(e) {
                    this.value = this.value.replace(/[^0-9]/g, '');
                    if (this.value.length > 4) {
                        this.value = this.value.slice(0, 4);
                    }
                });
            }
            
            updateSignatureFields();
            
            // Form submission
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    let isValid = true;
                    const requiredFields = form.querySelectorAll('[required]');
                    
                    requiredFields.forEach(field => {
                        if (!field.value.trim()) {
                            isValid = false;
                            field.style.borderColor = 'var(--accent-color)';
                        } else {
                            field.style.borderColor = 'var(--border-color)';
                        }
                    });
                    
                    const checkboxesForm = form.querySelectorAll('input[type="checkbox"][required]');
                    checkboxesForm.forEach(checkbox => {
                        if (!checkbox.checked) {
                            isValid = false;
                            checkbox.parentElement.style.color = 'var(--accent-color)';
                        } else {
                            checkbox.parentElement.style.color = '';
                        }
                    });
                    
                    if (isValid) {
                        const printModal = document.getElementById('printModal');
                        if (printModal) {
                            printModal.classList.add('active');
                        }
                    } else {
                        alert('Please fill in all required fields (marked with *) and check all consent boxes.');
                    }
                });
            }
            
            // Form reset
            if (form) {
                form.addEventListener('reset', function() {
                    const fields = form.querySelectorAll('input, select, textarea');
                    fields.forEach(field => {
                        field.style.borderColor = 'var(--border-color)';
                    });
                    
                    const checkboxesReset = form.querySelectorAll('input[type="checkbox"]');
                    checkboxesReset.forEach(checkbox => {
                        checkbox.parentElement.style.color = '';
                    });
                    
                    const signatureSection = document.getElementById('signatureSection');
                    if (signatureSection) {
                        signatureSection.classList.remove('visible');
                    }
                    
                    const simulatorResults = document.getElementById('simulatorResults');
                    if (simulatorResults) {
                        simulatorResults.classList.remove('visible');
                    }
                    
                    updateSignatureFields();
                });
            }
        }
        
        // ============================================
        // CREDIT SIMULATOR
        // ============================================
        
        function initCreditSimulator() {
            const totalCreditLimitInput = document.getElementById('totalCreditLimit');
            const totalBalanceInput = document.getElementById('totalBalance');
            
            if (totalCreditLimitInput) {
                totalCreditLimitInput.addEventListener('input', function() {
                    formatCurrency(this);
                });
            }
            
            if (totalBalanceInput) {
                totalBalanceInput.addEventListener('input', function() {
                    formatCurrency(this);
                });
            }
            
            // Check if there are existing values on page load
            setTimeout(function() {
                const limitInput = document.getElementById('totalCreditLimit');
                const balanceInput = document.getElementById('totalBalance');
                
                if (limitInput && balanceInput && (limitInput.value || balanceInput.value)) {
                    calculateCreditMetrics();
                }
            }, 1000);
        }
        
        // Format currency input
        function formatCurrency(input) {
            let value = input.value.replace(/[^0-9]/g, '');
            
            if (value.length > 0) {
                value = parseInt(value, 10).toLocaleString('en-US');
                input.value = '$' + value;
            } else {
                input.value = '';
            }
        }
        
        // Calculate credit metrics
        window.calculateCreditMetrics = function() {
            const limitInput = document.getElementById('totalCreditLimit');
            const balanceInput = document.getElementById('totalBalance');
            const latePayments = document.getElementById('latePayments');
            const simulatorResults = document.getElementById('simulatorResults');
            
            if (!limitInput || !balanceInput || !latePayments || !simulatorResults) {
                return;
            }
            
            const limit = parseInt(limitInput.value.replace(/[$,]/g, '')) || 0;
            const balance = parseInt(balanceInput.value.replace(/[$,]/g, '')) || 0;
            const latePaymentValue = latePayments.value;
            
            if (limit > 0 && balance >= 0 && latePaymentValue) {
                simulatorResults.classList.add('visible');
                
                let utilization = 0;
                if (limit > 0) {
                    utilization = Math.min(Math.round((balance / limit) * 100), 100);
                }
                
                const utilizationRate = document.getElementById('utilizationRate');
                const utilizationStatus = document.getElementById('utilizationStatus');
                
                utilizationRate.textContent = utilization + '%';
                utilizationRate.style.color = utilization <= 30 ? '#27ae60' : utilization <= 50 ? '#f39c12' : '#e74c3c';
                
                if (utilization === 0) {
                    utilizationStatus.textContent = 'No Credit Usage';
                    utilizationStatus.className = 'utilization-excellent';
                } else if (utilization <= 10) {
                    utilizationStatus.textContent = 'Excellent';
                    utilizationStatus.className = 'utilization-excellent';
                } else if (utilization <= 30) {
                    utilizationStatus.textContent = 'Good';
                    utilizationStatus.className = 'utilization-good';
                } else if (utilization <= 50) {
                    utilizationStatus.textContent = 'Fair';
                    utilizationStatus.className = 'utilization-fair';
                } else if (utilization <= 75) {
                    utilizationStatus.textContent = 'High';
                    utilizationStatus.className = 'utilization-high';
                } else {
                    utilizationStatus.textContent = 'Very High';
                    utilizationStatus.className = 'utilization-very-high';
                }
                
                let baseScore = 700;
                
                if (utilization === 0) baseScore += 0;
                else if (utilization <= 10) baseScore += 100;
                else if (utilization <= 20) baseScore += 75;
                else if (utilization <= 30) baseScore += 50;
                else if (utilization <= 40) baseScore += 25;
                else if (utilization <= 50) baseScore += 0;
                else if (utilization <= 60) baseScore -= 25;
                else if (utilization <= 70) baseScore -= 50;
                else if (utilization <= 80) baseScore -= 75;
                else baseScore -= 100;
                
                if (latePaymentValue === 'never') {
                    baseScore += 50;
                } else if (latePaymentValue === '30') {
                    baseScore -= 30;
                } else if (latePaymentValue === '60') {
                    baseScore -= 60;
                } else if (latePaymentValue === '90') {
                    baseScore -= 100;
                }
                
                let estimatedScore = Math.max(300, Math.min(850, baseScore));
                
                const estimatedScoreElement = document.getElementById('estimatedScore');
                const scoreStatus = document.getElementById('scoreStatus');
                
                estimatedScoreElement.textContent = estimatedScore;
                estimatedScoreElement.style.color = estimatedScore >= 670 ? '#27ae60' : estimatedScore >= 580 ? '#f39c12' : '#e74c3c';
                
                if (estimatedScore >= 800) {
                    scoreStatus.textContent = 'Exceptional';
                    scoreStatus.className = 'score-excellent';
                } else if (estimatedScore >= 740) {
                    scoreStatus.textContent = 'Very Good';
                    scoreStatus.className = 'score-excellent';
                } else if (estimatedScore >= 670) {
                    scoreStatus.textContent = 'Good';
                    scoreStatus.className = 'score-good';
                } else if (estimatedScore >= 580) {
                    scoreStatus.textContent = 'Fair';
                    scoreStatus.className = 'score-fair';
                } else if (estimatedScore >= 300) {
                    scoreStatus.textContent = 'Poor';
                    scoreStatus.className = 'score-poor';
                } else {
                    scoreStatus.textContent = 'Very Poor';
                    scoreStatus.className = 'score-very-poor';
                }
                
                const paymentHistoryBar = document.getElementById('paymentHistoryBar');
                const paymentHistoryText = document.getElementById('paymentHistoryText');
                
                if (latePaymentValue === 'never') {
                    paymentHistoryBar.style.width = '100%';
                    paymentHistoryBar.style.background = '#27ae60';
                    paymentHistoryText.innerHTML = '<strong>Excellent:</strong> No late payments';
                } else if (latePaymentValue === '30') {
                    paymentHistoryBar.style.width = '70%';
                    paymentHistoryBar.style.background = '#f39c12';
                    paymentHistoryText.innerHTML = '<strong>Fair:</strong> 30 days late payments';
                } else if (latePaymentValue === '60') {
                    paymentHistoryBar.style.width = '40%';
                    paymentHistoryBar.style.background = '#e74c3c';
                    paymentHistoryText.innerHTML = '<strong>Poor:</strong> 60 days late payments';
                } else if (latePaymentValue === '90') {
                    paymentHistoryBar.style.width = '20%';
                    paymentHistoryBar.style.background = '#c0392b';
                    paymentHistoryText.innerHTML = '<strong>Very Poor:</strong> 90+ days late payments';
                } else {
                    paymentHistoryBar.style.width = '0%';
                    paymentHistoryText.textContent = 'Select your payment history above';
                }
                
                const recommendationText = document.getElementById('recommendationText');
                let recommendations = [];
                
                if (utilization > 30) {
                    recommendations.push("Lower your credit utilization by paying down balances or requesting credit limit increases.");
                }
                
                if (utilization === 0 && limit > 0) {
                    recommendations.push("Consider making small purchases and paying them off each month to build payment history.");
                }
                
                if (latePaymentValue !== 'never') {
                    recommendations.push("Focus on making all future payments on time - payment history is the most important factor.");
                }
                
                if (estimatedScore < 670) {
                    recommendations.push("Our credit repair service can help you dispute inaccuracies and improve your score.");
                } else {
                    recommendations.push("Maintain your good habits! Continue paying on time and keeping utilization low.");
                }
                
                if (limit < 5000 && estimatedScore > 600) {
                    recommendations.push("Consider requesting credit limit increases to improve your utilization ratio.");
                }
                
                if (recommendations.length === 0) {
                    recommendations.push("Your credit appears to be in good shape! Keep up the good habits.");
                }
                
                recommendationText.innerHTML = '<ul style="margin: 0; padding-left: 20px;">' +
                    recommendations.map(rec => `<li style="margin-bottom: 8px;">${rec}</li>`).join('') +
                    '</ul>';
                    
            } else {
                simulatorResults.classList.remove('visible');
            }
        }
        
        // ============================================
        // SIGNATURE FUNCTIONALITY
        // ============================================
        
        function initSignature() {
            const signatureSection = document.getElementById('signatureSection');
            const signaturePad = document.getElementById('signaturePad');
            const clearSignatureBtn = document.getElementById('clearSignature');
            const acceptSignatureBtn = document.getElementById('acceptSignature');
            const signatureDisplay = document.getElementById('signatureDisplay');
            const signatureText = document.getElementById('signatureText');
            
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let ctx = null;
            let hasSignature = false;
            
            // Checkbox validation for showing signature section
            const checkboxes = document.querySelectorAll('.checkbox-group input[type="checkbox"]');
            
            function validateCheckboxes() {
                if (!signatureSection) return;
                
                let allChecked = true;
                checkboxes.forEach(checkbox => {
                    if (!checkbox.checked) {
                        allChecked = false;
                    }
                });
                
                if (allChecked) {
                    signatureSection.classList.add('visible');
                    initSignaturePad();
                } else {
                    signatureSection.classList.remove('visible');
                    clearSignature();
                }
            }
            
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', validateCheckboxes);
            });
            
            // Initialize signature pad
            function initSignaturePad() {
                if (!signaturePad) return;
                
                const canvas = document.createElement('canvas');
                canvas.width = signaturePad.offsetWidth;
                canvas.height = signaturePad.offsetHeight;
                canvas.style.width = '100%';
                canvas.style.height = '100%';
                canvas.style.borderRadius = '6px';
                
                while (signaturePad.firstChild) {
                    signaturePad.removeChild(signaturePad.firstChild);
                }
                
                signaturePad.appendChild(canvas);
                ctx = canvas.getContext('2d');
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = 2;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                
                canvas.addEventListener('mousedown', startDrawing);
                canvas.addEventListener('mousemove', draw);
                canvas.addEventListener('mouseup', stopDrawing);
                canvas.addEventListener('mouseout', stopDrawing);
                
                canvas.addEventListener('touchstart', handleTouch);
                canvas.addEventListener('touchmove', handleTouch);
                canvas.addEventListener('touchend', stopDrawing);
                
                function handleTouch(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    const mouseEvent = new MouseEvent('mousedown', {
                        clientX: touch.clientX,
                        clientY: touch.clientY
                    });
                    canvas.dispatchEvent(mouseEvent);
                }
            }
            
            function startDrawing(e) {
                isDrawing = true;
                const rect = signaturePad.getBoundingClientRect();
                lastX = e.clientX - rect.left;
                lastY = e.clientY - rect.top;
            }
            
            function draw(e) {
                if (!isDrawing) return;
                e.preventDefault();
                
                const rect = signaturePad.getBoundingClientRect();
                const currentX = e.clientX - rect.left;
                const currentY = e.clientY - rect.top;
                
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(currentX, currentY);
                ctx.stroke();
                
                lastX = currentX;
                lastY = currentY;
                hasSignature = true;
            }
            
            function stopDrawing() {
                isDrawing = false;
            }
            
            function clearSignature() {
                const canvas = signaturePad?.querySelector('canvas');
                if (canvas && ctx) {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                }
                hasSignature = false;
                if (signatureDisplay) {
                    signatureDisplay.classList.remove('visible');
                }
                if (signatureText) {
                    signatureText.textContent = 'No signature provided';
                }
            }
            
            function acceptSignature() {
                if (!hasSignature) {
                    alert('Please provide a signature first.');
                    return;
                }
                
                if (signatureText) {
                    signatureText.textContent = 'I understand and agree to the terms - Electronically Signed';
                }
                if (signatureDisplay) {
                    signatureDisplay.classList.add('visible');
                }
                
                const successMsg = document.createElement('div');
                successMsg.style.cssText = `
                    background: #d4edda;
                    color: #155724;
                    padding: 10px;
                    border-radius: 4px;
                    margin-top: 10px;
                    text-align: center;
                    font-weight: 500;
                `;
                successMsg.innerHTML = '<i class="fas fa-check-circle"></i> Signature accepted successfully!';
                
                if (signatureDisplay && signatureDisplay.parentNode) {
                    signatureDisplay.parentNode.insertBefore(successMsg, signatureDisplay.nextSibling);
                }
                
                setTimeout(() => {
                    if (successMsg.parentNode) {
                        successMsg.parentNode.removeChild(successMsg);
                    }
                }, 3000);
            }
            
            // Initialize signature pad on load
            setTimeout(() => {
                if (signatureSection.classList.contains('visible')) {
                    initSignaturePad();
                }
            }, 500);
            
            window.addEventListener('resize', function() {
                if (signatureSection.classList.contains('visible')) {
                    initSignaturePad();
                }
            });
            
            if (clearSignatureBtn) {
                clearSignatureBtn.addEventListener('click', clearSignature);
            }
            
            if (acceptSignatureBtn) {
                acceptSignatureBtn.addEventListener('click', acceptSignature);
            }
        }
    </script>
</body>
</html>